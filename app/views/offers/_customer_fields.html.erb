<div class="nested-fields">
  <%  optional_products = @offer.offer_products.optional_in_stock.order('products.name') %>
  <%= f.inputs do %>
    <%= f.input :price_id, as: :radio, collection: @offer.prices.map { |p| [p.to_s, p.id] } %>
    <%  if optional_products.count > 0 %>
      <%= f.input :product_id, as: :radio, collection: optional_products.map { |op| [op.product.name, op.product_id] } %>
    <%  end %>
    <%= f.input :name %>
    <%= f.input :email %><br>
    <%= f.input :phone %><br>
    <%= f.input :address, required: true %><br>
    <%= f.input :country %><br>
    <%= f.input :postcode, required: true %><br>
  <% end %>
</div>
